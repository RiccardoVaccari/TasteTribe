{% extends "base.html" %}

{% load crispy_forms_tags %}

{% block title %} Raccolta: {{ collection.collection_name }} {% endblock %}

{% block head %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}

{% block content %}

<div id="collectionInfoSection">
    <h1>{{ collection.collection_name }}</h1> <img src="data:image/png;base64,{{ collection.collection_cover }}">
    <h3>Creata da: {{ collection.collection_author.first_name }} {{ collection.collection_author.last_name }} in data {{ collection.collection_creation_date }}</h3>
</div>
<div id="collectionRecipesList">
    {% if recipes %}
    <ul>
        {% for recipe in recipes %}
        	<li>
                <b>{{ recipe.recipe_name }}</b>
                di <a href="/profile/{{ recipe.recipe_author.id }}">{{ recipe.recipe_author.first_name }} {{ recipe.recipe_author.last_name }}</a>
                <i>creata in data ({{ recipe.recipe_creation_date }})</i>
                <a href="/recipe/{{ recipe.recipe_guid }}"> Vai alla ricetta </a>
            </li>
        {% endfor %}
    </ul>
    {% else %}
        <p>Questa raccolta di ricette Ã¨ vuota!</p>
    {% endif %}
</div>
{% if user.is_authenticated and user.id == collection.collection_author.id %}
	<form method="GET" action="{% url 'search' %}">
        {% crispy form %}
    </form>
{% endif %}

{% endblock %}